{"version":3,"sources":["features/components/Header.js","assets/images/user-avatar.svg","features/components/Scrollbars.js","app/slices/accountsSlice.js","app/slices/videosSlice.js","features/components/Menu.js","assets/images/preview.svg","features/components/Video.js","features/hooks/useWindowWidth.js","features/components/Videos.js","features/components/Wrapper.js","features/components/Account.js","features/components/Slider.js","features/components/VideoPlayer.js","features/components/VideoInformation.js","features/components/ResizableTextArea.js","features/components/Comment.js","features/components/CommentList.js","features/components/VideoPage.js","features/components/SignIn.js","features/components/AddVideo.js","features/components/GoToMainPage.js","features/components/Loader.js","features/components/Error.js","App.js","app/store.js","index.js"],"names":["Header","searchInfo","onChangedSearchInfo","setMenuState","history","useHistory","className","onClick","push","placeholder","type","value","onChange","e","target","CustomScrollbars","props","autoHide","autoHideDuration","autoHideTimeout","renderThumbVertical","children","accountsAdapter","createEntityAdapter","fetchAccounts","createAsyncThunk","a","token","localStorage","getItem","axios","get","headers","response","data","initialState","getInitialState","status","accountsSlice","createSlice","name","reducers","setAccounts","setMany","subscribe","state","action","subscribtionAccountId","payload","currentUserId","ids","find","id","entities","self","post","subscribed","unsubscribe","removeAccount","forEach","removeOne","extraReducers","builder","addCase","fulfilled","pending","rejected","actions","videosAdapter","fetchVideos","videosSlice","setVideo","setOne","removeAccountsVideos","accountId","accountsVideosIds","videoId","author","removeMany","removeVideo","Subscription","account","avatar","to","src","UserAvatar","alt","Menu","opened","left","display","accounts","useSelector","accountsArray","selfAccount","map","filter","useState","deletePressed","setDeletePressed","dispatch","useDispatch","style","background","backgroundSize","backgroundPosition","removeItem","disabled","delete","then","length","Scrollbars","Video","accountPage","title","preview","videoWidth","previewHeight","margins","setRightMargin","videoAuthor","videoMargins","preventDefault","width","height","marginLeft","marginRight","backgroundImage","Preview","backgroundRepeat","useWindowWidth","document","documentElement","clientWidth","setWidth","useEffect","handleWidth","window","addEventListener","removeEventListener","Videos","videosState","videos","allVideos","video","includes","description","windowWidth","minScreenSize","numberOfVideos","Math","floor","index","WrapperWithScrollbar","UserPage","userAvatar","buttonText","buttonClass","Account","useParams","changeTrackValue","event","slider","maxValue","maxX","x","pageX","getBoundingClientRect","Slider","videoProgress","volume","paused","setVideoPlaying","setSliderUsing","buffered","min","max","tipFormatter","useRef","tooltipValue","setTooltipValue","pointerPressed","setPressed","pointerOver","setOver","tooltipLeft","setTooltipLeft","tooltip","bufX","changeTooltipX","tooltipX","current","sliderCltRect","minLeft","maxLeft","ref","onPointerDown","offsetWidth","PointerMove","PointerUp","onPointerOver","PointerOut","top","secondsToHumanReableTime","s","minutes","lastSeconds","hours","lastMinutes","String","VideoPlayer","videoSrc","videoPlayer","sliderUsing","showControls","setShowControls","videoPlaying","videoMuted","setVideoMuted","setVolume","setPausePressed","fullScreen","setFullScreen","screenLocked","setScreenLocked","setBuffered","play","pause","onfullscreenchange","screen","orientation","unlock","console","log","lock","timeout","setTimeout","clearTimeout","progress","setProgress","duration","setDuration","visualiseControls","unsetEventListener","onProgress","vid","i","start","currentTime","end","preload","onDurationChange","onTimeUpdate","loop","opacity","cursor","muted","exitFullscreen","requestFullscreen","navigationUI","voteVideo","liked","disliked","likePressed","dislikePressed","VideoInformation","videoEntity","likes","dislikes","authorEntity","descriptionOpened","setDescriptionOpened","ResizableTextarea","setHeight","divHeight","scrollHeight","Comment","comment","commentIndex","text","commentAuthor","commentAuthorId","voteComment","res","comments","updatedComment","CommentsList","submitted","setSubmitted","commentText","setCommentText","trim","ResizableTextArea","reverse","VideoPage","source","SignIn","canSubmit","createAccount","login","setLogin","password","setPassword","setDescription","setAvatar","avatarDataUrl","setAvatarDataUrl","isUnique","setUnique","wrongPasswordOrLogin","setWrongPasswordOrLogin","setAccountsToState","doc","setItem","onSubmit","formData","FormData","append","catch","error","registration","toJSON","htmlFor","color","multiple","accept","files","reader","FileReader","readAsDataURL","onload","result","required","setVideoEntity","AddVideo","setPreview","previewDataUrl","setPreviewDataUrl","videoTitle","setVideoTitle","previewWidth","vidFile","GoToMainPage","Loader","Error","App","accountsStatus","videosStatus","setSearchInfo","menuOpened","Wrapper","path","exact","store","configureStore","reducer","accountsReducer","videosReducer","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ddb29ec6.chunk.js","sourcesContent":["import { useHistory } from \"react-router-dom\"\r\n\r\n\r\nconst Header = ({searchInfo, onChangedSearchInfo,setMenuState}) => {\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header__open-menu-and-logo\">\r\n      <button className=\"header__open-menu\" onClick={() => {\r\n        setMenuState(true)\r\n      }}/>\r\n      <h1 className=\"header__logo\" onClick={() => history.push('/')}>Fidtube</h1>\r\n      </div>\r\n      \r\n      <div className=\"header__search-parent\">\r\n        <input className=\"header__search\" \r\n          placeholder=\"Search\"\r\n          type=\"text\"\r\n          value={searchInfo}\r\n          onChange={(e) => onChangedSearchInfo(e.target.value)}/>\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","export default __webpack_public_path__ + \"static/media/user-avatar.16774924.svg\";","import Scrollbars from 'react-custom-scrollbars'\r\n\r\nfunction CustomScrollbars (props) {\r\n\r\n      return (\r\n        <Scrollbars\r\n        {...props}\r\n         autoHide autoHideDuration={200}  autoHideTimeout={200}\r\n         renderThumbVertical={() => <div className=\"thumb\"/>}\r\n         >\r\n          {props.children}\r\n        </Scrollbars>\r\n      );\r\n}\r\n\r\nexport default CustomScrollbars\r\n  ","import {createSlice, createEntityAdapter, createAsyncThunk} from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nconst accountsAdapter = createEntityAdapter()\r\n\r\nexport const fetchAccounts = createAsyncThunk('fetchAccounts', async () => {   \r\n    const token = localStorage.getItem('token')\r\n    const response = await axios.get('/accounts', {headers: {\"Authorization\": token ? `Bearer ${token}` : ''}})\r\n    return response.data\r\n})\r\n\r\nconst initialState = accountsAdapter.getInitialState({status: 'idle'})\r\n\r\nconst accountsSlice = createSlice({\r\n    name: 'accounts',\r\n    initialState,\r\n    reducers: {\r\n        setAccounts: accountsAdapter.setMany,\r\n        subscribe: (state, action) => {\r\n            const token = localStorage.getItem('token')\r\n            if (!token) return\r\n            const { subscribtionAccountId } = action.payload\r\n            const currentUserId = state.ids.find(id => state.entities[id].self) \r\n            axios.post('/subscribe', { currentUserId, subscribtionAccountId }, \r\n            {headers: {\"Authorization\": token ? `Bearer ${token}` : ''}})\r\n            state.entities[subscribtionAccountId].subscribed = true\r\n        },\r\n        unsubscribe: (state, action) => {\r\n            const token = localStorage.getItem('token')\r\n            if (!token) return\r\n            const { subscribtionAccountId } = action.payload\r\n            const currentUserId = state.ids.find(id => state.entities[id].self) \r\n            axios.post('/unsubscribe', { currentUserId, subscribtionAccountId }, \r\n            {headers: {\"Authorization\": token ? `Bearer ${token}` : ''}})\r\n            state.entities[subscribtionAccountId].subscribed = false\r\n        },\r\n        removeAccount: (state, action) => {\r\n            state.ids.forEach(id => {\r\n                state.entities[id].self = false\r\n                state.entities[id].subscribed = false\r\n            })\r\n            accountsAdapter.removeOne(state, action.payload.id)\r\n        }\r\n    },\r\n    extraReducers(builder) {\r\n        builder.addCase(fetchAccounts.fulfilled, (state, action) => {\r\n            state.status = 'succeeded'\r\n            accountsAdapter.setMany(state, action.payload)\r\n        })\r\n        .addCase(fetchAccounts.pending, (state, action) => {\r\n            state.status = 'loading'\r\n        })\r\n        .addCase(fetchAccounts.rejected, (state, action) => {\r\n            state.status = 'error'\r\n        })\r\n    }\r\n})\r\n\r\nexport default accountsSlice.reducer\r\n\r\nexport const {setAccounts, subscribe, unsubscribe, removeAccount} = accountsSlice.actions\r\n\r\n","import {createSlice, createEntityAdapter, createAsyncThunk} from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nconst videosAdapter = createEntityAdapter()\r\n\r\nexport const fetchVideos = createAsyncThunk('fetchVideos', async () => {\r\n    const token = localStorage.getItem('token')\r\n    const response = await axios.get('/videos', {headers: {\"Authorization\": token ? `Bearer ${token}` : ''}})\r\n    return response.data\r\n})\r\n\r\n\r\nconst initialState = videosAdapter.getInitialState({status: 'idle'})\r\n\r\n\r\nconst videosSlice = createSlice({\r\n    name: 'videos',\r\n    initialState,\r\n    reducers: {\r\n        setVideo: videosAdapter.setOne,\r\n        removeAccountsVideos: (state, action) => {\r\n            const accountId = action.payload.id\r\n            const accountsVideosIds = []\r\n            state.ids.forEach(videoId => {\r\n                if (state.entities[videoId].author === accountId) {\r\n                    accountsVideosIds.push(videoId)\r\n                }\r\n            })\r\n            videosAdapter.removeMany(state, accountsVideosIds)\r\n        },\r\n        removeVideo: videosAdapter.removeOne\r\n    },\r\n    extraReducers(builder) {\r\n        builder.addCase(fetchVideos.fulfilled, (state, action) => {\r\n            state.status = 'succeeded'\r\n            videosAdapter.setMany(state, action.payload)\r\n        })\r\n        .addCase(fetchVideos.pending, (state, action) => {\r\n            state.status = 'loading'\r\n        })\r\n        .addCase(fetchVideos.rejected, (state, action) => {\r\n            state.status = 'error'\r\n        })\r\n    }\r\n})\r\n\r\n\r\nexport default videosSlice.reducer\r\n\r\nexport const { setVideo, removeAccountsVideos, removeVideo } = videosSlice.actions\r\n\r\n","import UserAvatar from '../../assets/images/user-avatar.svg'\r\nimport {Link} from 'react-router-dom'\r\nimport Scrollbars from './Scrollbars.js'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { fetchAccounts } from '../../app/slices/accountsSlice.js'\r\nimport { fetchVideos } from '../../app/slices/videosSlice.js'\r\nimport axios from 'axios'\r\nimport { useState } from 'react'\r\nimport { removeAccount } from '../../app/slices/accountsSlice.js'\r\nimport { removeAccountsVideos } from '../../app/slices/videosSlice.js'\r\n\r\nconst Subscription = ({account}) => {\r\n    const {id, name, avatar} = account\r\n    return (\r\n        <Link to={`/account/${id}`} className=\"menu__user-info\">\r\n                <img src={avatar ? `avatar/${avatar}` : UserAvatar} alt=\"User avatar\"/>\r\n                <div>{name}</div>\r\n        </Link>\r\n    )\r\n}\r\n\r\n\r\nconst Menu = ({opened, setMenuState}) => {\r\n    const left = opened ? 0 : -300\r\n    const display = opened ? 'block' : 'none' \r\n    const accounts = useSelector(state => state.accounts)\r\n    let accountsArray = []\r\n    let selfAccount = {}\r\n    const token = localStorage.getItem('token')\r\n    if (accounts) {\r\n        selfAccount = accounts.entities[accounts.ids.find(id => !!accounts.entities[id].self)]\r\n        accountsArray = accounts.ids.map(id => accounts.entities[id]).filter(account => !!account.subscribed)\r\n    }\r\n\r\n    const [deletePressed, setDeletePressed] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n  \r\n    return (\r\n        <>\r\n            <div className=\"modal-background\" style={{display}}/>\r\n            <div className=\"menu\" style={{left: `${left}px`}}>\r\n            <button className=\"menu__close-menu\" onClick={() => {\r\n                setMenuState(false)\r\n            }}/>\r\n            \r\n            {!selfAccount ? (\r\n                    <>\r\n                        <Link className=\"menu__account\" to=\"/sign-in\">Sign in</Link>\r\n                        <Link className=\"menu__account\" to=\"/create-account\">Create account</Link>\r\n                    </>\r\n                    ) \r\n                    :\r\n                    (\r\n                        <>\r\n                            <Link to={`/account/${selfAccount ? selfAccount.id : ''}`} className=\"menu__current-user-info\">\r\n                                <div className='menu__current-user-info__avatar' style={{\r\n                                    background: `url(${selfAccount.avatar ? `/avatar/${selfAccount.avatar}` : UserAvatar})`,\r\n                                    backgroundSize: 'cover',\r\n                                    backgroundPosition: 'center'\r\n                                }}/>\r\n                                <h1>{selfAccount.name}</h1>\r\n                            </Link>\r\n                            <button className=\"menu__account\"\r\n                            onClick={() => {\r\n                                localStorage.removeItem('token')\r\n                                dispatch(fetchAccounts())\r\n                                dispatch(fetchVideos())\r\n                            }}\r\n                            >Sign out</button>\r\n                            <button disabled={deletePressed} className={`menu__account delete${deletePressed ? '_pressed' : ''}`}\r\n                            onClick={() => {\r\n                                if (!token) return\r\n                                setDeletePressed(true)\r\n                                axios.delete(`/account/${selfAccount.id}`, {headers: {'Authorization': `Bearer ${token}`}})\r\n                                .then(() => {\r\n                                    localStorage.removeItem('token')\r\n                                    dispatch(removeAccount({ id: selfAccount.id }))\r\n                                    dispatch(removeAccountsVideos({ id: selfAccount.id }))\r\n                                })\r\n                                localStorage.removeItem('token')\r\n                            }}\r\n                            >Delete</button>\r\n                            {accountsArray.length > 0 && \r\n                                <Scrollbars>\r\n                                    <div className=\"menu__subscriptions\">\r\n                                        <h1>Subscriptions</h1>\r\n                                        {accountsArray.map(account => <Subscription key={account.id} account={account}/>)}\r\n                                    </div>\r\n                                </Scrollbars>\r\n                            }\r\n                            \r\n                        </>    \r\n                    )\r\n                \r\n            }\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Menu","export default __webpack_public_path__ + \"static/media/preview.c5cdbc78.svg\";","import {Link} from 'react-router-dom'\r\nimport UserAvatar from '../../assets/images/user-avatar.svg'\r\nimport Preview from '../../assets/images/preview.svg'\r\nimport { useSelector, useDispatch } from 'react-redux' \r\nimport axios from 'axios'\r\nimport { removeVideo } from '../../app/slices/videosSlice.js'\r\n\r\n\r\n\r\n\r\nconst Video = ({accountPage, title, preview, author, self, id, videoWidth, previewHeight, margins, setRightMargin}) => {\r\n    const dispatch = useDispatch()\r\n    const videoAuthor = useSelector(state => state.accounts.entities[author])\r\n    const videoMargins = `${margins}px`\r\n    return (\r\n        <Link onClick={e => {\r\n            if (e.target.className === 'videos__video__delete') {\r\n                e.preventDefault()\r\n                return\r\n            }\r\n        }} \r\n        to={`/video/${id}`} className=\"videos__video\" style={{width: `${videoWidth}px`, height: `${videoWidth}px`, marginLeft:  videoMargins, marginRight: setRightMargin ? videoMargins : '0px``'}}>\r\n                    <div className=\"videos__video__preview\" style={{\r\n                        height: `${previewHeight}px`,\r\n                        backgroundImage: `url(${preview ? `/preview/${preview}` : Preview})`,\r\n                        backgroundRepeat: 'no-repeat', \r\n                        backgroundSize: preview ?  'cover' : 'contain', \r\n                        backgroundPosition: 'center'\r\n                    }}/>\r\n                    {accountPage ? (\r\n                        <div className=\"videos__video__title-and-delete\">\r\n                            <h1 className=\"videos__video__title\">{title}</h1>\r\n                            {self && <button\r\n                            onClick={e => {\r\n                                const token = localStorage.getItem('token')\r\n                                axios.delete(`/video/${id}`, {headers: {'Authorization': `Bearer ${token}`}})\r\n                                .then(() => {\r\n                                    dispatch(removeVideo(id))\r\n                                })\r\n                            }}\r\n                            className=\"videos__video__delete\"/>}\r\n                        </div>\r\n                    ) : <h1 className=\"videos__video__title\">{title}</h1>}\r\n                    {!accountPage && <div className=\"videos__video__author\">\r\n                        <div className='videos__video__author__avatar' style={{\r\n                                    background: `url(${videoAuthor && videoAuthor.avatar ? `/avatar/${videoAuthor.avatar}` : UserAvatar})`,\r\n                                    backgroundSize: 'cover',\r\n                                    backgroundPosition: 'center'\r\n                                }}/>\r\n                        <div className=\"videos__video__author\">{videoAuthor ? videoAuthor.name : 'Video author'}</div>\r\n                    </div>}\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default Video","import { useState, useEffect } from \"react\"\r\nconst useWindowWidth = () => {\r\n    const [width, setWidth] = useState(document.documentElement.clientWidth)\r\n    useEffect( () => {\r\n        const handleWidth = () => {\r\n            setWidth(document.documentElement.clientWidth)\r\n        }\r\n        window.addEventListener('resize', handleWidth)\r\n        return () => {\r\n            window.removeEventListener('resize', handleWidth)\r\n        }\r\n    }, [])\r\n\r\n    return width\r\n}\r\n\r\nexport default useWindowWidth","import Video from './Video.js'\r\nimport { useSelector } from 'react-redux'\r\nimport useWindowWidth from '../hooks/useWindowWidth.js'\r\n\r\n\r\nconst Videos = ({searchInfo, author, self, accountPage}) => {\r\n        const videosState = useSelector(state => state.videos)\r\n        const allVideos = videosState.ids.map(id => videosState.entities[id])\r\n        let videos = []\r\n        if (accountPage) {\r\n            videos = allVideos.filter(video => video.author === author && (video.title.includes(searchInfo) || video.description.includes(searchInfo)))\r\n        }\r\n        else {\r\n            videos = allVideos.filter(video => video.title.includes(searchInfo) || video.description.includes(searchInfo) || video.author.includes(searchInfo))\r\n        }\r\n\r\n\r\n\r\n        const windowWidth = useWindowWidth()\r\n        const minScreenSize = 320\r\n        const widthProportion = 3.5\r\n        const heightProportion = 2\r\n        const numberOfVideos = Math.floor(windowWidth/minScreenSize)\r\n        let margins = windowWidth > 640 ? (windowWidth - minScreenSize * numberOfVideos) / (numberOfVideos+1) : 0\r\n        if (margins > 10) margins = 10\r\n        let videoWidth = windowWidth/numberOfVideos - 2 * margins\r\n        if (videoWidth < minScreenSize) videoWidth = minScreenSize\r\n        if (numberOfVideos === 1 && videoWidth > 500) videoWidth = 500\r\n        const previewHeight = (videoWidth/widthProportion)*heightProportion\r\n\r\n\r\n    return (\r\n            <div className=\"videos\">\r\n                {videos.map((video, index) => {\r\n                    const setRightMargin = ++index % numberOfVideos === 0\r\n                    return <Video margins={margins} key={video.id} title={video.title} accountPage={accountPage} self={self} id={video.id} preview={video.preview} author={video.author} videoWidth={videoWidth} previewHeight={previewHeight} setRightMargin={setRightMargin}/>\r\n                })}\r\n            </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Videos","import Scrollbars from \"./Scrollbars\";\r\n\r\nconst WrapperWithScrollbar = props => {\r\n    return (\r\n        <div className=\"wrapper\">\r\n        <Scrollbars>\r\n        {props.children}\r\n        </Scrollbars>\r\n   \r\n   </div>    \r\n    )\r\n}\r\n\r\nexport default WrapperWithScrollbar","import { useParams, Link, Redirect } from \"react-router-dom\"\r\nimport UserAvatar from '../../assets/images/user-avatar.svg'\r\nimport Videos from \"./Videos.js\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { subscribe, unsubscribe } from '../../app/slices/accountsSlice.js'\r\n\r\nconst UserPage = ({id, name, description, avatar, subscribed, self}) => {\r\n    const userAvatar = avatar ? `/avatar/${avatar}` : UserAvatar\r\n    const dispatch = useDispatch()\r\n    const buttonText = self ? 'Add video' : subscribed ? 'Subscribed' : 'Subscribe'\r\n    const buttonClass = (subscribed) ? 'account__avatar-and-subscribe__subscribed' : 'account__avatar-and-subscribe__subscribe'\r\n    return (\r\n        <div className=\"account\">\r\n            <div className=\"account__avatar-and-subscribe\">\r\n            <div className='account__avatar-and-subscribe__avatar' style={{\r\n                background: `url(${userAvatar})`,\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundSize: 'cover',\r\n                backgroundPosition: 'center'\r\n            }}/>\r\n                {self ? \r\n                <Link to=\"/add-video\" className=\"account__avatar-and-subscribe__add-video\">\r\n                    {buttonText}\r\n                </Link> :\r\n                <button onClick={() => {\r\n                    dispatch(subscribed ? unsubscribe({ subscribtionAccountId: id }) :\r\n                    subscribe({ subscribtionAccountId: id }))\r\n                }}\r\n                className={buttonClass}>\r\n                    {buttonText}\r\n                </button>\r\n                }\r\n                \r\n            </div>\r\n            <div className=\"account__name-and-description\">\r\n                <h1>{name}</h1>\r\n                <p>{description}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Account = ({searchInfo}) => {\r\n    const {id} = useParams()\r\n    const account = useSelector(state => state.accounts.entities[id])\r\n    const status = useSelector(state => state.accounts.status)\r\n\r\n    if (!account && status === 'succeeded') {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    if (!account) {\r\n        return null\r\n    }\r\n    \r\n\r\n    const {name, description, avatar, subscribed, self} = account\r\n    return (\r\n        <>\r\n        <UserPage id={id} name={name} description={description} avatar={avatar} subscribed={subscribed} self={self}/>\r\n        <Videos searchInfo={searchInfo} author={id} accountPage self={self}/>\r\n        </>\r\n    )\r\n\r\n    \r\n}\r\n\r\nexport default Account","import {useState, useRef} from 'react'\r\n\r\nconst changeTrackValue = (event, slider, maxValue, maxX) => {\r\n    let x = event.pageX - slider.getBoundingClientRect().left\r\n    if (x < 0) x = 0\r\n    if (x > maxX) x = maxX\r\n    const value = (x/maxX)*maxValue\r\n    return value\r\n}\r\n\r\n\r\n\r\n\r\nconst Slider = ({videoProgress, volume, paused, setVideoPlaying, setSliderUsing, buffered, onChange, disabled, value, min, max, tipFormatter}) => {\r\n    const slider = useRef(null)\r\n    const [tooltipValue, setTooltipValue] = useState(0)\r\n    const [pointerPressed, setPressed] = useState(false)\r\n    const [pointerOver, setOver] = useState(false)\r\n    const [tooltipLeft, setTooltipLeft] = useState(0)\r\n    if (!min) min = 0\r\n    if (!max) max = 100\r\n    if (!value && value !== 0) volume ? value = 50 : value = 0\r\n    const maxValue = max - min\r\n    const x = (value/maxValue)*100\r\n\r\n    const tooltip = pointerOver || pointerPressed\r\n\r\n    const bufX = (buffered/maxValue)*100\r\n\r\n    const changeTooltipX = (event) => {\r\n        let tooltipX = event.pageX\r\n        if (!slider.current) return\r\n        const sliderCltRect = slider.current.getBoundingClientRect()\r\n        const minLeft = sliderCltRect.left\r\n        const maxLeft = sliderCltRect.left + sliderCltRect.width\r\n        if (tooltipX < minLeft) tooltipX = minLeft\r\n        if (tooltipX > maxLeft) tooltipX = maxLeft\r\n        const tooltipValue = ((tooltipX - minLeft) / sliderCltRect.width) * maxValue + min\r\n        setTooltipValue(tooltipValue)\r\n        return tooltipX\r\n    }\r\n    \r\n\r\n    \r\n    return (\r\n        <div style={{display: disabled ? 'none' : 'block'}} ref={slider} className={`slider${volume ? '_volume' : ''}`} \r\n        onPointerDown={event => {\r\n                    if (!paused) setVideoPlaying(false)\r\n                    setSliderUsing(true)\r\n                    const maxX = slider.current.offsetWidth                   \r\n                    onChange(changeTrackValue(event, slider.current, maxValue, maxX))\r\n                    changeTooltipX(event)\r\n                    setPressed(true)\r\n\r\n                    const PointerMove = (event) => {\r\n                        onChange(changeTrackValue(event, slider.current, maxValue, maxX))\r\n                        if (tooltip) {\r\n                            setTooltipLeft(changeTooltipX(event))\r\n                        }\r\n                    }\r\n                    const PointerUp = () => {\r\n                        if (!pointerOver) {\r\n                            setSliderUsing(false)\r\n                        }\r\n                        setPressed(false)\r\n                        if (!paused) setVideoPlaying(true)\r\n                        window.removeEventListener('pointermove', PointerMove)\r\n                        window.removeEventListener('pointerup', PointerUp)\r\n                    }\r\n\r\n                    window.addEventListener('pointermove', PointerMove)\r\n                    window.addEventListener('pointerup', PointerUp)\r\n                }}\r\n                onPointerOver={event => {\r\n                    changeTooltipX(event)\r\n                    setSliderUsing(true)\r\n                    setOver(true)\r\n\r\n                    const PointerMove = (event) => {\r\n                        setTooltipLeft(changeTooltipX(event))\r\n                    }\r\n                    const PointerOut = () => {\r\n                        if (!pointerPressed) {\r\n                            setSliderUsing(false)\r\n                        }\r\n                        setOver(false)\r\n                        window.removeEventListener('pointermove', PointerMove)\r\n                        slider.current.removeEventListener('pointerout', PointerOut)\r\n                    }\r\n\r\n                    window.addEventListener('pointermove', PointerMove)\r\n                    slider.current.addEventListener('pointerout', PointerOut)\r\n\r\n\r\n                }}>\r\n            <div className=\"slider__rail\">\r\n                {tooltip && <div style={{left: `${tooltipLeft}px`, top: `${slider.current.getBoundingClientRect().top - 28}px`}} className=\"slider__tooltip\">{tipFormatter ? tipFormatter(tooltipValue) : Math.floor(tooltipValue)}</div>}\r\n                <div style={{width: `${x}%`}} className=\"slider__track\"/>\r\n                {videoProgress && <div className=\"slider__downloaded-data\" style={{width: bufX ? `${bufX}%` : 'unset'}}/>}\r\n                <div style={{left: `${x}%`}} className=\"slider__handle\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Slider","import  Slider  from './Slider.js'\r\nimport { useRef, useState, useEffect } from 'react'\r\nconst secondsToHumanReableTime = s => {\r\n    if (s === 0) return '00:00'\r\n    let minutes = Math.floor(s/60)\r\n    let lastSeconds = Math.floor(s-minutes*60)\r\n    if (minutes >= 60) {\r\n        let hours = Math.floor(minutes/60)\r\n        let lastMinutes = Math.floor(minutes-hours*60)\r\n        if (String(hours).length < 2) {\r\n            hours = `0${hours}`\r\n        }\r\n        if (String(lastMinutes).length < 2) {\r\n            lastMinutes = `0${lastMinutes}`\r\n        }\r\n        if (String(lastSeconds).length < 2) {\r\n            lastSeconds = `0${lastSeconds}`\r\n        }\r\n        return `${hours}:${lastMinutes}:${lastSeconds}`\r\n    }\r\n    if (String(minutes).length < 2) {\r\n        minutes = `0${minutes}`\r\n    }\r\n    if (String(lastSeconds).length < 2) {\r\n        lastSeconds = `0${lastSeconds}`\r\n    }\r\n    return `${minutes}:${lastSeconds}`\r\n} \r\n\r\n\r\n\r\nconst VideoPlayer = ({src}) => {\r\n    const videoSrc = src\r\n    const video = useRef(null)\r\n    const videoPlayer = useRef(null)\r\n    const [sliderUsing, setSliderUsing] = useState(false)\r\n    const [showControls, setShowControls] = useState(true)\r\n    const [videoPlaying, setVideoPlaying] = useState(false)\r\n    const [videoMuted, setVideoMuted] = useState(false)\r\n    const [volume, setVolume] = useState(50)\r\n    const [paused, setPausePressed] = useState(true)\r\n    const [fullScreen, setFullScreen] = useState(false)\r\n    const [screenLocked, setScreenLocked] = useState(false)\r\n    const [buffered, setBuffered] = useState(0)\r\n\r\n    if (video.current) {\r\n        (videoPlaying && !paused) ? video.current.play() : video.current.pause()  \r\n    }\r\n  \r\n    useEffect(() => {\r\n        const handleFullscreenChange = () => {\r\n            setFullScreen(!fullScreen)\r\n            if (window.screen.orientation.type.includes('portrait')) {\r\n                !screenLocked ? \r\n                window.screen.orientation.lock('landscape') : \r\n                window.screen.orientation.unlock ? window.screen.orientation.unlock() : console.log('unlock is not supported')\r\n                setScreenLocked(!screenLocked)\r\n            }\r\n        }\r\n    \r\n        document.onfullscreenchange = handleFullscreenChange\r\n        return () => {\r\n            document.onfullscreenchange = null\r\n        }\r\n    }, [fullScreen, screenLocked])\r\n\r\n    let timeout = useRef(null)\r\n    useEffect(() => {\r\n        timeout.current = setTimeout(() => {\r\n            if (!sliderUsing) {\r\n                if (videoPlaying) {\r\n                    setShowControls(false)\r\n                }\r\n            } \r\n        }, 3000)\r\n\r\n        return () => {\r\n            clearTimeout(timeout.current)\r\n        }\r\n    }, [showControls, videoPlaying, videoMuted, volume, fullScreen, sliderUsing])\r\n\r\n    const [progress, setProgress] = useState(0)\r\n    const [duration, setDuration] = useState(0)\r\n\r\n    const requestFullscreen = () => {\r\n        videoPlayer.current.requestFullscreen({navigationUI: 'hide'})\r\n    }\r\n\r\n    const exitFullscreen = () => {\r\n        document.exitFullscreen()\r\n    }\r\n\r\n    return (\r\n        <div onPointerOver={() => {\r\n            setShowControls(true)\r\n            const visualiseControls = () => { \r\n                setShowControls(true)           \r\n            }\r\n            const unsetEventListener = () => {\r\n                window.removeEventListener('pointermove', visualiseControls)\r\n                videoPlayer.current.removeEventListener('pointerout', unsetEventListener)\r\n            }\r\n            window.addEventListener('pointermove', visualiseControls)\r\n            videoPlayer.current.addEventListener('pointerout', unsetEventListener)\r\n        }}\r\n        ref={videoPlayer} className={'video__videoplayer'}>\r\n            <video onProgress={e => {\r\n                const vid = e.target\r\n                if (duration > 0) {\r\n                    for (let i = 0; i < vid.buffered.length; i++) {\r\n                        if (vid.buffered.start(vid.buffered.length - 1 - i) < vid.currentTime) {\r\n                            setBuffered(vid.buffered.end(vid.buffered.length - 1 - i))\r\n                            break\r\n                        }\r\n                   \r\n                }\r\n                }\r\n            }}\r\n            src={`/videofile/${videoSrc}`} preload=\"metadata\" onDurationChange={e => {\r\n                    setDuration(e.target.duration)\r\n                }}\r\n            onTimeUpdate={() => setProgress(video.current.currentTime)} loop={false} className={'video__videoplayer__file'} ref={video}\r\n                \r\n            />\r\n            <div style={{opacity: showControls ? 1 : 0, cursor: !fullScreen ? 'pointer' : showControls ? 'pointer' : 'none'}}\r\n            onClick={(e) => { \r\n                    if (e.target.className !== 'video__videoplayer__controls') return\r\n                    setShowControls(true)\r\n                }}\r\n            className=\"video__videoplayer__controls\">\r\n                <div className=\"video__videoplayer__controls__progress\">\r\n                    <div className=\"video__videoplayer__controls__progress__currentTime\">{video.current && secondsToHumanReableTime(progress)}</div>\r\n                    <Slider \r\n                        videoProgress\r\n                        videoPlaying={videoPlaying}\r\n                        buffered={buffered}\r\n                        className=\"video__videoplayer__controls__progress__slider\"\r\n                        max={video.current ? duration : 0}\r\n                        tipFormatter={secondsToHumanReableTime}\r\n                        setVideoPlaying={setVideoPlaying}\r\n                        value={progress}\r\n                        video={video.current}\r\n                        paused={paused}\r\n                        setSliderUsing={setSliderUsing}\r\n                        onChange={value => {\r\n                            setProgress(value)\r\n                            video.current.currentTime = value\r\n\r\n                        }\r\n                    }\r\n                    />\r\n                    <div className=\"video__videoplayer__controls__progress__duration\">{video.current && secondsToHumanReableTime(duration)}</div>\r\n                </div>\r\n                <div className=\"video__videoplayer__controls__other\">\r\n                    <div className=\"video__videoplayer__controls__other__wrapper\">\r\n                    <button className={`video__videoplayer__controls__other__${videoPlaying ? 'pause' : 'play'}`}\r\n                        onClick={() => { \r\n                            setShowControls(true)\r\n                            setVideoPlaying(!videoPlaying)\r\n                            setPausePressed(!paused)\r\n                        }}\r\n                    />\r\n                    <button className={`video__videoplayer__controls__other__${videoMuted ? 'volume-off' : 'volume'}`} \r\n                        onClick={ () => {\r\n                            if (videoMuted) {\r\n                                video.current.muted = false\r\n                                setVideoMuted(!videoMuted)\r\n\r\n                            }\r\n                            if(!videoMuted) {\r\n                                video.current.muted = true\r\n                                setVideoMuted(!videoMuted)\r\n\r\n                            }\r\n                            \r\n                        }\r\n                        }\r\n                    />\r\n                    <Slider setVideoPlaying={setVideoPlaying} volume className=\"video__videoplayer__controls__other__volumeSlider\" value={volume} disabled={videoMuted}\r\n                        videoPlaying={videoPlaying}\r\n                        video={video.current}\r\n                        paused={paused}\r\n                        setSliderUsing={setSliderUsing}\r\n                        onChange={value => {\r\n                            setVolume(value)                          \r\n                            video.current.volume = value/100\r\n\r\n                        }\r\n                        }\r\n                    />\r\n                    </div>\r\n                    \r\n                    <button className={`video__videoplayer__controls__other__${fullScreen ? 'fullscreen-exit' : 'fullscreen'}`}\r\n                        onClick={() => {\r\n                            fullScreen ? exitFullscreen() : requestFullscreen() \r\n                        }\r\n                        }\r\n                    />\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoPlayer","import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport UserAvatar from '../../assets/images/user-avatar.svg'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport axios from 'axios'\r\nimport { setVideo } from '../../app/slices/videosSlice.js'\r\nimport { subscribe, unsubscribe } from '../../app/slices/accountsSlice.js'\r\n\r\nconst token = localStorage.getItem('token')\r\n\r\nconst voteVideo = (videoId, liked, disliked, likePressed, dislikePressed) => {\r\n    if (!token) return\r\n    axios.post(`/vote-video/${videoId}`, {\r\n        liked,\r\n        disliked, \r\n        likePressed, \r\n        dislikePressed\r\n    }, {headers: {'Authorization': `Bearer ${token}`}})\r\n}\r\n\r\n\r\nconst VideoInformation = ({videoEntity}) => {\r\n    const {title, description, author, likes, dislikes, liked, disliked, id} = videoEntity\r\n    const dispatch = useDispatch()\r\n\r\n    const authorEntity = useSelector(state => state.accounts.entities[author])\r\n\r\n    const currentUserId = useSelector(state => state.accounts.ids.find(id => state.accounts.entities[id].self)) \r\n    \r\n    const [descriptionOpened, setDescriptionOpened] = useState(false)\r\n    \r\n \r\n\r\n    return (\r\n        <div className=\"video__information\">\r\n            <div className=\"video__information__title-and-description\">\r\n                <h1 className=\"video__information__title-and-description__title\">{title}</h1>\r\n                {description && \r\n                <div className=\"video__information__title-and-description__description\">\r\n                    <div onClick={() => setDescriptionOpened(!descriptionOpened)} className=\"video__information__title-and-description__description__close-description\">\r\n                        <h3>Description</h3>\r\n                        <div className={`arrow${descriptionOpened ? '_opened' : ''}`}/>\r\n                    </div>\r\n                    <p className={`video__information__title-and-description__description__info${descriptionOpened ? '' : '_closed'}`}>{description}</p>\r\n                </div>}\r\n                \r\n            </div>\r\n            {currentUserId && <div className=\"video__information__like-and-dislike\">\r\n                <div onClick={() => {\r\n                    if (liked) {\r\n                        voteVideo(id, liked, disliked, false, false)\r\n                        dispatch(setVideo({...videoEntity, liked: false, likes: likes - 1}))\r\n                        return\r\n                    }\r\n                    voteVideo(id, liked, disliked, true, false)\r\n                    dispatch(setVideo({...videoEntity, liked: true, disliked: false, likes: likes + 1, dislikes: disliked ? dislikes - 1 : dislikes}))\r\n                    \r\n                    }} className=\"video__information__like-and-dislike__item\">\r\n                    <div className={`video__information__like-and-dislike__item__like${liked ? '_pressed' : ''}`}/>\r\n                    {likes}\r\n                </div>\r\n                <div onClick={() => {\r\n                    if (disliked) {\r\n                        voteVideo(id, liked, disliked, false, false)\r\n                        dispatch(setVideo({...videoEntity, disliked: false, dislikes: dislikes - 1}))\r\n                        return\r\n                    }\r\n                    voteVideo(id, liked, disliked, false, true)\r\n                    dispatch(setVideo({...videoEntity, disliked: true, liked: false, dislikes: dislikes + 1, likes: liked ? likes - 1 : likes}))\r\n                    \r\n                }} className=\"video__information__like-and-dislike__item\">\r\n                    <div className={`video__information__like-and-dislike__item__dislike${disliked ? '_pressed' : ''}`}/>\r\n                    {dislikes}\r\n                </div>\r\n            </div>}\r\n            \r\n            <div className=\"video__information__author\">\r\n                <Link className=\"video__information__author__avatar-and-name\" to={`/account/${author}`}>\r\n                    <div className='video__information__author__avatar-and-name__avatar' style={{\r\n                        backgroundImage: `url(${authorEntity && authorEntity.avatar ? `/avatar/${authorEntity.avatar}` : UserAvatar})`,\r\n                        backgroundSize: 'cover',\r\n                        backgroundPosition: 'center'\r\n                    }}/>\r\n                    <div className=\"video__information__author__avatar-and-name__name\">{authorEntity ? authorEntity.name : 'Username'}</div>\r\n                </Link>\r\n                {currentUserId && authorEntity && !authorEntity.self && \r\n                    <button onClick={() => {\r\n                        dispatch(authorEntity.subscribed ? unsubscribe({ subscribtionAccountId: author }) :\r\n                        subscribe({ subscribtionAccountId: author }))\r\n                    }} \r\n                    className={`video__information__author__${authorEntity.subscribed ? 'subscribed' : 'subscribe'}`}>{authorEntity.subscribed ? 'Subscribed' : 'Subscribe'}</button>\r\n                }\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoInformation","import Scrollbars from \"./Scrollbars.js\"\r\nimport { useState } from \"react\"\r\nconst ResizableTextarea = (props) => {\r\n\tconst [height, setHeight] = useState(60)\r\n\tconst divHeight = height <= 60 ? 60 : height >= 130 ? 130 : height\r\n\r\n\treturn (\r\n\t\t<div className=\"textarea-wrapper\" style={{height: divHeight}}>\r\n\t\t\t<Scrollbars>\r\n\t\t\t\t<textarea placeholder={props.placeholder} className=\"textarea\" value={props.value} onChange={(e) => {\r\n\t\t\t\t\te.target.style.height = 'auto'\r\n\t\t\t\t\te.target.style.height = `${e.target.scrollHeight}px`\r\n\t\t\t\t\tsetHeight(e.target.scrollHeight)\r\n\t\t\t\t\tprops.onChange(e)\r\n\t\t\t\t}}/>\r\n\t\t\t</Scrollbars>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ResizableTextarea","import { Link } from \"react-router-dom\"\r\nimport UserAvatar from '../../assets/images/user-avatar.svg'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport axios from 'axios'\r\nimport { setVideo } from \"../../app/slices/videosSlice.js\"\r\n\r\n\r\n\r\nconst Comment = ({comment, commentIndex, videoEntity}) => {\r\n    const token = localStorage.getItem('token')\r\n    const dispatch = useDispatch()\r\n    const { self, text, author, liked, disliked, likes, dislikes} = comment\r\n    const currentUserId = useSelector(state => state.accounts.ids.find(id => state.accounts.entities[id].self))\r\n    const commentAuthor = useSelector(state => {\r\n        const commentAuthorId = state.accounts.ids.find(id => state.accounts.entities[id].name === author)\r\n        return state.accounts.entities[commentAuthorId]\r\n    })\r\n\r\n    const userAvatar = commentAuthor && commentAuthor.avatar ? `/avatar/${commentAuthor.avatar}` : UserAvatar\r\n\r\n    const voteComment = (liked, disliked, likePressed, dislikePressed) => {\r\n        if (!token) return\r\n        axios.post(`/vote-comment/${videoEntity.id}/${commentIndex}`, {\r\n            liked,\r\n            disliked, \r\n            likePressed, \r\n            dislikePressed\r\n        }, {headers: {'Authorization': `Bearer ${token}`}})\r\n        .then(res => console.log(res.data))\r\n\r\n    }\r\n\r\n    const deleteComment = () => {\r\n        const comments = []\r\n        for (let i = 0; i < videoEntity.comments.length; i++) {\r\n            if (i === commentIndex) {\r\n                continue\r\n            }\r\n            comments.push(videoEntity.comments[i])\r\n        }\r\n        dispatch(setVideo({...videoEntity, comments}))\r\n        axios.delete('/comment', {\r\n            data: {\r\n                videoId: videoEntity.id, commentIndex\r\n            },\r\n            headers: {'Authorization': `Bearer ${token}`}\r\n        })\r\n    }\r\n    \r\n    return (\r\n    <div className=\"video__comments__comment\">\r\n        <div className=\"video__comments__comment__comment-author-and-delete-comment\">\r\n            <Link className=\"video__comments__comment__comment-author-and-delete-comment__author\" to={`/account/${commentAuthor?.id}`}>\r\n            <div className='video__comments__comment__comment-author-and-delete-comment__author__avatar' style={{\r\n                        background: `url(${userAvatar})`,\r\n                        backgroundSize: 'contain',\r\n                        backgroundPosition: 'center',\r\n                        backgroundRepeat: 'no-repeat'\r\n            }}/>\r\n            <div className='video__comments__comment__comment-author-and-delete-comment__author__name'>{commentAuthor?.name}</div>\r\n            </Link>\r\n            {self && \r\n            <button onClick={deleteComment}\r\n            className=\"video__comments__comment__comment-author-and-delete-comment__delete\">Delete</button>\r\n            }            \r\n        </div>\r\n        <p className=\"video__comments__comment__text\">{text}</p>\r\n        {\r\n            currentUserId && <div className=\"video__comments__comment__like-and-dislike\">\r\n            <div onClick={() => {\r\n                    if (liked) {\r\n                        voteComment(liked, disliked, false, false)\r\n                        const updatedComment = {\r\n                            ...comment,\r\n                            liked: false,\r\n                            likes: likes - 1\r\n                        }\r\n                        const comments = [...videoEntity.comments]\r\n                        comments[commentIndex] = updatedComment\r\n                        dispatch(setVideo({...videoEntity, comments}))\r\n                        return\r\n                    }\r\n                    voteComment(liked, disliked, true, false)\r\n                    const updatedComment = {\r\n                        ...comment,\r\n                        liked: true,\r\n                        likes: likes + 1,\r\n                        disliked: false,\r\n                        dislikes: disliked ? dislikes - 1 : dislikes \r\n                    }\r\n                    const comments = [...videoEntity.comments]\r\n                    comments[commentIndex] = updatedComment\r\n                    dispatch(setVideo({...videoEntity, comments}))\r\n                    return\r\n                    }} className=\"video__comments__comment__like-and-dislike__item\">\r\n                <div className={`video__comments__comment__like-and-dislike__item__like${liked ? '_pressed' : ''}`}/>\r\n                {likes}\r\n            </div>\r\n            <div onClick={() => {\r\n                    if (disliked) {\r\n                        voteComment(liked, disliked, false, false)\r\n                        const updatedComment = {\r\n                            ...comment,\r\n                            disliked: false,\r\n                            dislikes: dislikes - 1\r\n                        }\r\n                        const comments = [...videoEntity.comments]\r\n                        comments[commentIndex] = updatedComment\r\n                        dispatch(setVideo({...videoEntity, comments}))\r\n                        return\r\n                    }\r\n                    voteComment(liked, disliked, false, true)\r\n                    const updatedComment = {\r\n                        ...comment,\r\n                        liked: false,\r\n                        likes: liked ? likes - 1 : likes,\r\n                        disliked: true,\r\n                        dislikes: dislikes + 1 \r\n                    }\r\n                    const comments = [...videoEntity.comments]\r\n                    comments[commentIndex] = updatedComment\r\n                    dispatch(setVideo({...videoEntity, comments}))\r\n                    return\r\n                }} className=\"video__comments__comment__like-and-dislike__item\">\r\n                <div className={`video__comments__comment__like-and-dislike__item__dislike${disliked ? '_pressed' : ''}`}/>\r\n                {dislikes}\r\n            </div>\r\n        </div>\r\n        }\r\n\r\n    </div>\r\n)\r\n}\r\n\r\nexport default Comment","import { useState } from \"react\"\r\nimport ResizableTextArea from './ResizableTextArea.js'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport { setVideo } from \"../../app/slices/videosSlice.js\"\r\nimport Comment from \"./Comment.js\"\r\n\r\n\r\n\r\nconst CommentsList = ({videoEntity}) => {\r\n    const dispatch = useDispatch()\r\n    const comments = videoEntity.comments\r\n    const [submitted, setSubmitted] = useState(false)\r\n    const [commentText, setCommentText] = useState('')\r\n    const disabled = commentText.trim() === ''\r\n    const token = localStorage.getItem('token')\r\n    const postComment = (text) => {\r\n        setSubmitted(true)\r\n        axios.post(`/add-comment/${videoEntity.id}`, {\r\n            text\r\n        }, {headers: {'Authorization': `Bearer ${token}`}})\r\n        .then(res => {\r\n            setSubmitted(false)\r\n            dispatch(setVideo({...videoEntity, comments: [...videoEntity.comments, res.data]}))\r\n        })\r\n    }\r\n    const currentUserId = useSelector(state => state.accounts.ids.find(id => state.accounts.entities[id].self))\r\n    return (\r\n        <div className=\"video__comments\">\r\n            {\r\n                currentUserId && <div className=\"video__comments__leave-comment\">                   \r\n                <ResizableTextArea placeholder=\"Type your comment\" className=\"video__comments__leave-comment__textarea\" value={commentText} onChange={e => setCommentText(e.target.value)}/>              \r\n                <button className={`video__comments__leave-comment__send${submitted ? '_submitted' : disabled ? '_disabled' : ''}`} disabled={submitted || disabled}\r\n                onClick={() => {\r\n                    postComment(commentText)\r\n                    setCommentText('')\r\n                }}\r\n                >Leave comment</button>\r\n            </div>\r\n            }\r\n            \r\n            {comments && comments.length > 0 && <>\r\n                    <h1 className=\"video__comments__title\">Comments</h1>\r\n                    {comments.map((comment, index) => <Comment commentIndex={index} videoEntity={videoEntity} key={index} comment={comment}/>).reverse()}\r\n                </>\r\n             }\r\n\r\n        </div>\r\n    ) \r\n}\r\n\r\nexport default CommentsList","import VideoPlayer from './VideoPlayer.js'\r\nimport VideoInformation from './VideoInformation.js'\r\nimport { useParams, Redirect } from 'react-router-dom'\r\nimport CommentsList from './CommentList.js'\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst VideoPage = () => {\r\n    const {id} = useParams()\r\n    const status = useSelector(state => state.videos.status)\r\n    const videoEntity = useSelector(state => state.videos.entities[id])\r\n\r\n    if (!videoEntity && status === 'succeeded') {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    if (!videoEntity) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"video\">\r\n            <VideoPlayer src={videoEntity.source}/>\r\n            <VideoInformation videoEntity={videoEntity}/>\r\n            <CommentsList videoEntity={videoEntity}/>\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default VideoPage","import { useState } from \"react\"\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { setAccounts } from '../../app/slices/accountsSlice.js'\r\nimport { useDispatch } from \"react-redux\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { fetchVideos } from \"../../app/slices/videosSlice.js\"\r\nimport ResizableTextArea from \"./ResizableTextArea.js\"\r\n\r\n\r\nconst SignIn = ({createAccount}) => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [login, setLogin] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [submitted, setSubmitted] = useState(false)\r\n    const [avatar, setAvatar] = useState(null)\r\n    const [avatarDataUrl, setAvatarDataUrl] = useState(null) \r\n    const [isUnique, setUnique] = useState(true)\r\n    const [wrongPasswordOrLogin, setWrongPasswordOrLogin] = useState(false)\r\n    let canSubmit\r\n    submitted ? canSubmit = false : login === '' ? canSubmit = false : login.length < 4 ? canSubmit = false : login.length > 25 ? canSubmit = false : !isUnique ? canSubmit = false : password === ''  ? canSubmit = false : password.length < 4 ? canSubmit = false : password.length > 25 ? canSubmit = false : canSubmit = true \r\n\r\n    const setAccountsToState = (response) => {\r\n      const { data } = response\r\n        dispatch(setAccounts(data.map(doc => {\r\n          const { name, avatar, description, id, self, subscribed, token } = doc\r\n          if (token) {\r\n            localStorage.setItem('token', token)\r\n          }\r\n          return { name, avatar, description, id, self, subscribed }\r\n        })))\r\n    }\r\n\r\n\r\n\r\n    const registration = (formData) => {\r\n      axios.post('/create-account', formData, {headers: {type: 'x-www-form-urlencoded'}})\r\n      .then(res => {\r\n        setAccountsToState(res)\r\n        history.push('/')\r\n        dispatch(fetchVideos())\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n    } \r\n\r\n    const loginUser = () => {\r\n      axios.post('/login-user', {login, password})\r\n      .then(res => {\r\n        setAccountsToState(res)\r\n        history.push('/')\r\n        dispatch(fetchVideos())\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response.status === 405) {\r\n          canSubmit = true\r\n          setSubmitted(false)\r\n          setWrongPasswordOrLogin(true)\r\n          return\r\n        }\r\n        console.log(error.toJSON());\r\n      });\r\n    }\r\n\r\n    \r\n    return (\r\n        <form className=\"sign-in\" onSubmit={\r\n          e => {\r\n              e.preventDefault()\r\n              setSubmitted(true)\r\n              if (createAccount) {\r\n                const formData = new FormData()\r\n                formData.append('login', login)\r\n                formData.append('password', password)\r\n                if (description.trim() !== '') formData.append('description', description.trim())\r\n                if (avatar) formData.append('avatar', avatar)\r\n                registration(formData)\r\n                return\r\n              }\r\n              loginUser()\r\n          }}\r\n      >\r\n            <h1 className=\"sign-in__title\">{createAccount ? 'Create account' : 'Sign in'}</h1>\r\n            {createAccount && \r\n                <div className=\"sign-in__choose-avatar\">\r\n                  <label htmlFor=\"photo\" style={ avatarDataUrl ? {backgroundImage: `url(${avatarDataUrl})`,  backgroundRepeat: 'no-repeat', backgroundSize: 'cover', backgroundPosition: 'center'} : {background: '#1a1a1b', color: '#fff'}}>\r\n                    {avatarDataUrl ? null : 'Add avatar'}  \r\n                  </label>\r\n                  <input name=\"avatar\" multiple={false} id=\"photo\" type=\"file\" accept=\"image/*\" onChange={(event) => {\r\n                    if(event.target.files[0]) {\r\n                      const reader = new FileReader()\r\n                      reader.readAsDataURL(event.target.files[0])\r\n                      setAvatar(event.target.files[0])\r\n                      reader.onload = () => {\r\n                        setAvatarDataUrl(reader.result)\r\n                      }\r\n                    }    \r\n                }}/>\r\n            </div>\r\n            }\r\n            {createAccount && <p className=\"sign-in__info\">Login and password fields should contain from 4 to 25 characters</p>}\r\n            <input name=\"login\" required placeholder=\"Type your login\" className=\"sign-in__login\" value={login} onChange={e => {\r\n              setWrongPasswordOrLogin(false)\r\n              setLogin(e.target.value.trim())\r\n              if (e.target.value.trim() === '') {\r\n                setUnique(true)\r\n                return\r\n              }\r\n              if (createAccount && e.target.value.trim() !== '') {\r\n                  axios.get(`/is-login-unique/${e.target.value.trim()}`).then(response => {\r\n                  setUnique(response.data)\r\n                })\r\n              }\r\n            }}/>\r\n            {createAccount && !isUnique && <p className=\"sign-in__error\">{login} is already taken</p>}\r\n            {createAccount && <ResizableTextArea placeholder={'Type your account description'} value={description} onChange={e => setDescription(e.target.value)}/>}\r\n            <input name=\"password\" required placeholder=\"Type your password\" className=\"sign-in__password\" type=\"password\" value={password} onChange={e => {\r\n              setWrongPasswordOrLogin(false)\r\n              setPassword(e.target.value.trim())\r\n            }}/>\r\n            {wrongPasswordOrLogin && <p className=\"sign-in__error\">Wrong password or login</p>}\r\n            <button type=\"submit\" className={`sign-in__submit${submitted ? '_submitted' : canSubmit ? '' : '_disabled'}`} disabled={!canSubmit}>Submit</button>\r\n            <Link className=\"sign-in__link\" to={createAccount ? '/sign-in' : '/create-account'}>{createAccount ? 'Sign in' : 'Create account'}</Link>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SignIn","import { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport ResizableTextarea from \"./ResizableTextArea.js\"\r\nimport useWindowWidth from \"../hooks/useWindowWidth.js\"\r\nimport axios from 'axios'\r\nimport { setVideo } from \"../../app/slices/videosSlice.js\"\r\nimport { useDispatch } from \"react-redux\"\r\n\r\nconst setVideoEntity = setVideo\r\n\r\nconst AddVideo = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [preview, setPreview] = useState(null)\r\n    const [previewDataUrl, setPreviewDataUrl] = useState(null) \r\n    const [video, setVideo] = useState(null) \r\n    const [videoTitle, setVideoTitle] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [submitted, setSubmitted] = useState(false)\r\n    const windowWidth = useWindowWidth()\r\n    const widthProportion = 3.5\r\n    const heightProportion = 2\r\n    let previewWidth = windowWidth*.9\r\n    if (previewWidth > 700) previewWidth = 700\r\n    const previewHeight = (previewWidth/widthProportion)*heightProportion\r\n    let canSubmit = false\r\n    if (video && videoTitle) canSubmit = true\r\n    return (\r\n        <form onSubmit={e => {\r\n          e.preventDefault()\r\n          setSubmitted(true)\r\n          const formData = new FormData()\r\n          formData.append('video', video)\r\n          formData.append('title', videoTitle)\r\n          if (preview) {\r\n            formData.append('preview', preview)\r\n          }\r\n          if (description) {\r\n            formData.append('description', description)\r\n          }\r\n          const token = localStorage.getItem('token')\r\n          axios.post('/add-video', formData, {headers: {'Authorization': `Bearer ${token}`}})\r\n          .then(res => {\r\n            dispatch(setVideoEntity(res.data))\r\n            history.push('/')\r\n          })\r\n        }}\r\n        className=\"add-video\">\r\n            <h1 className=\"add-video__title\">Add video</h1>\r\n            <div className=\"add-video__choose-preview\" style={{\r\n              width: `${previewWidth}px`,\r\n              height: `${previewHeight}px`\r\n            }}>\r\n                  <label htmlFor=\"photo\" style={ previewDataUrl ? {backgroundImage: `url(${previewDataUrl})`,  backgroundRepeat: 'no-repeat', backgroundSize: 'contain', backgroundPosition: 'center'} : {background: '#1a1a1b', color: '#fff'}}>\r\n                    {previewDataUrl ? null : 'Add preview'}  \r\n                  </label>\r\n                  <input multiple={false} id=\"photo\" type=\"file\" accept=\"image/*\" onChange={(event) => {\r\n                    if(event.target.files[0]) {\r\n                      const reader = new FileReader()\r\n                      reader.readAsDataURL(event.target.files[0])\r\n                      setPreview(event.target.files[0])\r\n                      reader.onload = () => {\r\n                        setPreviewDataUrl(reader.result)\r\n                      }\r\n                    }    \r\n                }}/>\r\n            </div>\r\n            <div className=\"add-video__choose-video\">\r\n                  <label htmlFor=\"video\">\r\n                    {video ? video.name : 'Add video (MP4 only)'}  \r\n                  </label>\r\n                  <input required multiple={false} id=\"video\" type=\"file\" accept=\"video/MP4\" onChange={(event) => {\r\n                    if(event.target.files[0]) {\r\n                      const vidFile = (event.target.files[0])\r\n                      setVideo(vidFile)\r\n                    }    \r\n                }}/>\r\n            </div>\r\n            <input required placeholder=\"Enter your video's title\" className=\"add-video__set-title\" type=\"text\" value={videoTitle} onChange={e => setVideoTitle(e.target.value)}/>\r\n            <ResizableTextarea placeholder=\"Type your video's decription\" onChange={e => setDescription(e.target.value)} className=\"add-video__set-description\" value={description}/>\r\n            <button type=\"submit\" className={`add-video__submit${submitted ? '_submitted' : canSubmit ? '' : '_disabled'}`} disabled={!canSubmit}>Submit</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddVideo","import { useHistory } from \"react-router-dom\";\r\n\r\nconst GoToMainPage = () => {\r\n    const history = useHistory()\r\n    return (\r\n        <div className=\"go-to-main-page\">\r\n            <button onClick={() => history.push('/')}\r\n            className=\"go-to-main-page__button\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoToMainPage","const Loader = () => {\r\n    return (\r\n        <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n    )\r\n}\r\n\r\nexport default Loader","const Error = () => {\r\n    return (\r\n        <div className=\"error\">\r\n            Some error occured :(\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React, { useState } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Header from './features/components/Header.js'\nimport Menu from './features/components/Menu.js';\nimport Videos from './features/components/Videos.js';\nimport WrapperWithScrollbar from './features/components/Wrapper.js';\nimport Account from './features/components/Account.js';\nimport VideoPage from './features/components/VideoPage.js';\nimport SignIn from './features/components/SignIn.js';\nimport AddVideo from './features/components/AddVideo.js';\nimport GoToMainPage from './features/components/GoToMainPage.js';\nimport { fetchAccounts } from './app/slices/accountsSlice.js';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nimport { fetchVideos } from './app/slices/videosSlice.js'\nimport Loader from './features/components/Loader.js';\nimport Error from './features/components/Error.js';\n\n\n\n\nfunction App() {\n  const accountsStatus = useSelector(state => state.accounts.status)\n  const videosStatus = useSelector(state => state.videos.status)\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    if (accountsStatus === 'idle' || videosStatus === 'idle') {\n      dispatch(fetchAccounts())\n      dispatch(fetchVideos())\n    }\n  }, [dispatch, accountsStatus, videosStatus])\n  const [searchInfo, setSearchInfo] = useState('')\n  const [menuOpened, setMenuState] = useState(false)\n\n  if (accountsStatus === 'loading' || videosStatus === 'loading') return <Loader/>\n\n  if (accountsStatus === 'error' || videosStatus === 'error') return <Error/>\n\n  return <>\n    <Header setMenuState={setMenuState}\n            searchInfo={searchInfo}\n            onChangedSearchInfo={setSearchInfo}\n    />\n    <Menu opened={menuOpened} setMenuState={setMenuState}/>\n    <WrapperWithScrollbar>\n    <Switch>\n      <Route path=\"/\" exact>\n        <Videos searchInfo={searchInfo}/>\n      </Route>\n      <Route path=\"/account/:id\" exact>\n        <GoToMainPage/>\n        <Account searchInfo={searchInfo}/>\n      </Route>\n      <Route path=\"/video/:id\" exact>\n        <GoToMainPage/>\n        <VideoPage/>\n      </Route>\n      <Route path=\"/sign-in\" exact>\n        <GoToMainPage/>\n        <SignIn/>\n      </Route>\n      <Route path=\"/create-account\" exact>\n        <GoToMainPage/>\n        <SignIn createAccount/>\n      </Route>\n      <Route path=\"/add-video\" exact>\n        <GoToMainPage/>\n        <AddVideo/>\n      </Route>\n      <Redirect to=\"/\"/>\n    </Switch>\n    </WrapperWithScrollbar>\n  </>;\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport accountsReducer from './slices/accountsSlice.js'\nimport videosReducer from './slices/videosSlice.js'\n\n\nexport const store = configureStore({\n  reducer: {\n    accounts: accountsReducer,\n    videos: videosReducer\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport './style.scss'\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n   <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}